@{
    ViewData["Title"] = "Quên mật khẩu";
    Layout = "~/Views/Shared/Layout/_Layout.cshtml";
}

<div class="container" style="padding: 50px 0;">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <h2 class="text-center mb-4">KHÔI PHỤC MẬT KHẨU</h2>

            @if (ViewBag.Error != null)
            {
                    <div class="alert alert-danger">
                        <i class="fa fa-exclamation-triangle"></i> @ViewBag.Error
                    </div>
            }

            @if (ViewBag.Success != null)
            {
                    <div class="alert alert-success text-center">
                        <h4><i class="fa fa-check-circle"></i> Thành công!</h4>
                        <p>@ViewBag.Success</p>
                        <hr>
                        <a asp-controller="Auth" asp-action="Login" class="btn btn-success">
                            <i class="fa fa-sign-in"></i> Đăng nhập ngay
                        </a>
                    </div>
            }
            else
            {
                    <form asp-action="ForgotPassword" method="post" style="border: 1px solid #ddd; padding: 20px; border-radius: 5px; background: #fff; box-shadow: 0 0 10px rgba(0,0,0,0.1);">
                        <div class="mb-3">
                            <label>Tên đăng nhập:</label>
                            <input type="text" name="username" class="form-control" required placeholder="Nhập username của bạn">
                        </div>

                        <div class="mb-3">
                            <label>Email đăng ký:</label>
                            <input type="email" name="email" class="form-control" required placeholder="Nhập email đã đăng ký">
                        </div>

                        <div class="mb-3">
                            <label>Số điện thoại:</label>
                            <input type="text" name="phone" class="form-control" required placeholder="Nhập số điện thoại">
                        </div>

                        <hr>

                        <div class="mb-3">
                            <label style="color:#D10024; font-weight:bold;">Mật khẩu mới:</label>
                            <input type="password" name="newPassword" class="form-control" required placeholder="Nhập mật khẩu mới">
                        </div>

                        <button type="submit" class="primary-btn" style="width:100%; background-color: #D10024; color: white; border: none; padding: 10px; font-weight: bold;">
                            XÁC NHẬN ĐỔI MẬT KHẨU
                        </button>
                    </form>
            }

            <div class="text-center mt-3">
                <a asp-controller="Auth" asp-action="Login" style="text-decoration: none; color: #333;">
                    <i class="fa fa-arrow-left"></i> Quay lại trang Đăng nhập
                </a>
            </div>

        </div>
    </div>
</div>