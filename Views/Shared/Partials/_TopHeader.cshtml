@{
    var userId = Context.Session.GetInt32("UserId");
    var fullName = Context.Session.GetString("FullName");
    var userRole = Context.Session.GetString("UserRole");
}

<div id="top-header">
    <div class="container">
        <ul class="header-links pull-left">
            <li><a href="#"><i class="fa fa-phone"></i> 0354631234</a></li>
            <li><a href="#"><i class="fa fa-envelope-o"></i> contact@email.com</a></li>
            <li><a href="#"><i class="fa fa-map-marker"></i> 65 Huỳnh Thúc Kháng, Phường Bến Nghé, Quận 1, TP. Hồ Chí Minh. </a></li>
        </ul>
        <ul class="header-links pull-right">
            @if (userId != null)
            {
                <!-- Đã đăng nhập -->
                <li class="dropdown" style="position: relative;">
                    <a href="#" class="dropdown-toggle" data-bs-toggle="dropdown" style="cursor: pointer;">
                        <i class="fa fa-user-o"></i> 
                        @(fullName ?? "Tài khoản")
                        @if (userRole == "Admin")
                        {
                            <span class="badge bg-danger" style="font-size: 9px; margin-left: 5px;">Admin</span>
                        }
                        <i class="fa fa-caret-down"></i>
                    </a>
                    <ul class="dropdown-menu" style="right: 0; left: auto; min-width: 200px;">
                        @if (userRole == "Admin")
                        {
                            <li><a class="dropdown-item" href="/Admin/Home/Index"><i class="fa fa-dashboard"></i> Trang quản trị</a></li>
                            <li><hr class="dropdown-divider"></li>
                        }
                         <li>
                            <!--PNSon 18/01/2026 Ẩn khi ở trang Thông tin cá nhân-->
                            @if (ViewData["HideSearchAndNav"] == null || !(bool)ViewData["HideSearchAndNav"])
                            {
                                //Thông tin cá nhân
                                <a class="dropdown-item text-danger" href="@Url.Action("InformationUser", "Account")">
                                    <i class="fa fa-address-book me-2"></i> Thông tin cá nhân
                                </a>
                            }
                        </li>
                        <li>
                            <a class="dropdown-item text-danger" href="@Url.Action("Logout", "Auth")">
                                <i class="fa fa-sign-out"></i> Đăng xuất
                            </a>
                        </li>
                    </ul>
                </li>
            }
            else
            {
                <!-- Chưa đăng nhập -->
                <li><a href="@Url.Action("Login", "Auth")"><i class="fa fa-sign-in"></i> Đăng nhập</a></li>
                <li><a href="@Url.Action("Register", "Auth")"><i class="fa fa-user-plus"></i> Đăng ký</a></li>
            }
        </ul>
    </div>
</div>